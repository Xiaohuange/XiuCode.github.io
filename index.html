<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>语亮</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="修宇亮的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="语亮">
<meta property="og:url" content="http://yoursite.com/">
<meta property="og:site_name" content="语亮">
<meta property="og:description" content="修宇亮的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="语亮">
<meta name="twitter:description" content="修宇亮的博客">

  
    <link rel="alternative" href="/atom.xml" title="语亮" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">语亮</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">他一直致力于成为一个有人文情怀的科技从业者</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">存档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
          <a class="main-nav-link" href="/todolist">ToDo</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/31/hello-world/" class="article-date">
  <time datetime="2014-10-30T19:41:48.000Z" itemprop="datePublished">10月 31 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/31/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">trobuleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2>
<h3 id="Create_a_new_post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/10/31/hello-world/" data-id="841vou7mmn29s0q5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-《objective-c程序设计》笔记——语法篇" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/31/《objective-c程序设计》笔记——语法篇/" class="article-date">
  <time datetime="2014-10-30T17:21:26.000Z" itemprop="datePublished">10月 31 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程学习/">编程学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/31/《objective-c程序设计》笔记——语法篇/">《objective-c程序设计》笔记——C语言相关篇</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h4 id="Terminal编译OC代码的指令：">Terminal编译OC代码的指令：</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">mkdir</span> test01</div><div class="line"><span class="keyword">cd</span> test01</div><div class="line"><span class="keyword">vi</span> main.<span class="keyword">m</span></div><div class="line">clang -fobjc-arc -framework Foundation main.<span class="keyword">m</span> -<span class="keyword">o</span> test01</div><div class="line">./test01</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="at_rule">@<span class="keyword">autoreleasepool{</span> </span></div><div class="line"><span class="function">NSLog</span>(@<span class="string">"Program is running!"</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>@autoreleasepool:应用创建新对象时，系统能够有效的管理应用使用的内存<br>NSLog：</p>
<ol>
<li>后面参数中的@”….”成为常量NSString对象,如果不加@，就是常量C类型的字符串</li>
<li>NSLog函数会输出函数的执行日期与实践、程序名、以及其他一些数值</li>
</ol>
<h4 id="创建类和对象的方式：（分数程序-分子/分母）">创建类和对象的方式：（分数程序-分子/分母）</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  main.m</span></div><div class="line"><span class="comment">//  OC-Test01</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  Created by 修宇亮 on 14-7-22.</span></div><div class="line"><span class="comment">//  Copyright (c) 2014年 修宇亮. All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Fraction</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line">-(<span class="keyword">void</span>) setNumeration : (<span class="keyword">int</span>) n;</div><div class="line">-(<span class="keyword">void</span>) setDenomination : (<span class="keyword">int</span>) d;</div><div class="line">-(<span class="keyword">int</span>) numeration;</div><div class="line">-(<span class="keyword">int</span>) denomination;</div><div class="line">-(<span class="keyword">void</span>) print ;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Fraction</span></span></div><div class="line"></div><div class="line">{   <span class="keyword">int</span> Numeration;</div><div class="line"><span class="keyword">int</span> Denomination;</div><div class="line">}</div><div class="line"><span class="comment">//声明变量最好在@implementaion，这样可以保证数据的封装性</span></div><div class="line"><span class="comment">//如果只声明一行数据，可以不用大括号</span></div><div class="line"></div><div class="line">-(<span class="keyword">void</span>) setNumeration:(<span class="keyword">int</span>)n</div><div class="line">{</div><div class="line">Numeration = n;</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>) setDenomination:(<span class="keyword">int</span>)d</div><div class="line">{</div><div class="line">Denomination = d;</div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">int</span>) numeration{</div><div class="line"></div><div class="line"><span class="keyword">return</span> Numeration;</div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">int</span>) denomination{</div><div class="line"></div><div class="line"><span class="keyword">return</span> Denomination;</div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)print</div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"The fraction is %i / %i"</span>,Numeration,Denomination);</div><div class="line">}</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</div><div class="line">{</div><div class="line"></div><div class="line"><span class="keyword">@autoreleasepool</span> {</div><div class="line"></div><div class="line">Fraction *frac1 = [[Fraction alloc]init];</div><div class="line">Fraction *frac2 = [[Fraction alloc]init];</div><div class="line"><span class="comment">//另一种写法：Fraction *frac1 = [Fraction new];</span></div><div class="line"><span class="comment">//但建议用第一种方法书写，因为这样可以更加容易的理解“先分配内存空间，再初始化对象”这个过程</span></div><div class="line"></div><div class="line">[frac1 setNumeration : <span class="number">2</span>];</div><div class="line">[frac1 setDenomination:<span class="number">3</span>];</div><div class="line"></div><div class="line"></div><div class="line">[frac2 setNumeration : <span class="number">2</span>];</div><div class="line">[frac2 setDenomination:<span class="number">7</span>];</div><div class="line"></div><div class="line">[frac1 print];</div><div class="line">[frac2 print];</div><div class="line"><span class="comment">//另一种写法：</span></div><div class="line"><span class="comment">//NSLog(@"The fraction is %i / %i",[frac1 numeration],[frac1 denomination]);</span></div><div class="line"><span class="comment">//体现了每个对象中数据的封装性，外界只有通过创建对象或者访问已有对象，才能获得该对象的数据</span></div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="数据类型和表达式">数据类型和表达式</h4>
<h5 id="NSLog转换字符：">NSLog转换字符：</h5>
<table>
<thead>
<tr>
<th style="text-align:left">int</th>
<th style="text-align:left">char</th>
<th style="text-align:left">float</th>
<th style="text-align:left">double</th>
<th style="text-align:left">id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">%i</td>
<td style="text-align:left">%c</td>
<td style="text-align:left">%f,%e,%g,%a</td>
<td style="text-align:left">%f,%e,%g,%a</td>
<td style="text-align:left">%p</td>
</tr>
</tbody>
</table>
<p>%f是指用浮点数的形式输出，也就是用小数了<br>%e是用指数的形式输出<br>%g是选用%f%e中较短的一种形式输出</p>
<h5 id="浮点数科学计数法：">浮点数科学计数法：</h5>
<p>1.7e4 = 1.7*10^4</p>
<h5 id="限定词：">限定词：</h5>
<p>long:修饰int，double，float，以扩大值域，可以连续运用，如long long int<br>short：与long的效果相反，可以起到节约内存的作用<br>unsigned：只有正值，没有负值，从而扩大正值的值域<br>id：通用类型，id object，在多态和动态绑定中有重要作用</p>
<h5 id="模运算符">模运算符</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function">NSLog</span>(<span class="at_rule">@<span class="string">"a%%b = %i"</span>,a%b);</span></div><div class="line"><span class="comment">//当需要在输出的字符串中加入%时，需要用%%，%相当于java中的\转义符</span></div><div class="line"><span class="comment">//%是取模运算，得到的结果是余数</span></div><div class="line"><span class="comment">//如果数据类型是int，那么/运算的结果是整数，小数部分被砍掉了</span></div><div class="line"><span class="comment">//a/b+a%b = a</span></div></pre></td></tr></table></figure>

<h5 id="类型强制转换">类型强制转换</h5>
<p>15/10 = 1<br>(float)15/10 = 1.5000<br>(float)15/(float)10 = 1.5000</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">id <span class="keyword">object</span>;</div><div class="line">Fraction *myfraction;</div><div class="line">myfraction = (Fraction *) <span class="keyword">object</span>;<span class="comment">//将id强制类型转换为Fraction *</span></div></pre></td></tr></table></figure>

<h5 id="键盘输入">键盘输入</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">scan(<span class="string">"%i"</span>,&<span class="built_in">number</span>)<span class="comment">;//这里不需要@，这里是C语法，不是NSString类型参量</span></div><div class="line">scan(<span class="string">" %c"</span>,<span class="keyword">char</span>)<span class="comment">;//注意，这里%c之前有一个空格，功能是自动跳过空白字符（空格，回车，换                 //行符，制表符），需要从键盘输入单个字符的时候要尤其注意这一点</span></div></pre></td></tr></table></figure>

<h5 id="break_&amp;_continue">break &amp; continue</h5>
<p>break:跳出循环，从循环后面的语句执行<br>continue：跳出正在执行的本次循环，从下一次循环开始执行，但仍旧在循环之内运行</p>
<h4 id="关于类：">关于类：</h4>
<h5 id="工程中文件的分布：">工程中文件的分布：</h5>
<p>一般在写项目的时候<br>interface和implementation是分开在两个文件里面写的<br>class.h和class.m<br>其中class.m需要导入class.h<br>而main.m也需要导入class.h，但不需要导入class.m<br>这种文件分配，很有利于大量代码的管理</p>
<h5 id="自动生成取值、设值方法">自动生成取值、设值方法</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@interface</div><div class="line">@property int a,b;</div><div class="line"><span class="header">@end</span></div><div class="line">-----------------</div><div class="line">@implementation</div><div class="line">@synthesize a,b;</div><div class="line">@end</div></pre></td></tr></table></figure>

<h5 id="使用点运算符访问属性">使用点运算符访问属性</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">object</span>.<span class="keyword">property</span> == [<span class="keyword">object</span> <span class="keyword">property</span>]</div><div class="line"><span class="comment">//点运算符多用于取值设值的时候，如果是单纯调用方法，还是推荐用[]</span></div></pre></td></tr></table></figure>

<h5 id="具有多个参数的方法">具有多个参数的方法</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@interface</div><div class="line">-(void) setTo : (int) n over : (int) m</div><div class="line"><span class="header">@end</span></div><div class="line">---------------------</div><div class="line">@implementation</div><div class="line">-(void) setTo : (int) n over : (int) m</div><div class="line">{</div><div class="line">numeration = n;</div><div class="line">denomination = m;</div><div class="line">}</div><div class="line"><span class="header">@end</span></div><div class="line">----------------------</div><div class="line">main.m</div><div class="line">[object setTo :1 over :3];</div><div class="line">----------------------</div></pre></td></tr></table></figure>

<h5 id="求最大公约数">求最大公约数</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">-(<span class="keyword">void</span>) reduce : (Fraction *) f </div><div class="line">{</div><div class="line"><span class="keyword">int</span> u = f.numeration;</div><div class="line"><span class="keyword">int</span> v = f.denomination;</div><div class="line"><span class="keyword">int</span> temp;</div><div class="line"></div><div class="line"><span class="keyword">while</span>(temp!=<span class="number">0</span>)</div><div class="line">{</div><div class="line">temp = u%v;</div><div class="line">u = v;</div><div class="line">v= temp</div><div class="line">}</div><div class="line"></div><div class="line">f.numeration \= u;</div><div class="line">f.denomination \= u;</div><div class="line">}</div></pre></td></tr></table></figure>

<h5 id="关键字">关键字</h5>
<p>static:<br>累加器，在方法中修饰局部变量可以使得局部变量可以实现累加功能，不会因为每次重新初始化而使得局部变量“归零”</p>
<p>self:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">-(void) add : (Fraction <span class="keyword">*</span>) f</div><div class="line">{</div><div class="line">//a/b+c/d = (a<span class="keyword">*</span>d+c<span class="keyword">*</span>b)/b<span class="keyword">*</span>d</div><div class="line"></div><div class="line">numeration = f.numeration<span class="keyword">*</span>denomination+f.denomination<span class="keyword">*</span>numeration;</div><div class="line">denomination = denomination<span class="keyword">*</span>f.denomination;</div><div class="line"></div><div class="line">[self reduce];//直接对得到的结果进行约简，相当于java的this</div><div class="line">}</div></pre></td></tr></table></figure>

<h5 id="关于继承">关于继承</h5>
<p>详情见代码包——Rectangle<br>main.m(import “XYPoint.h”&amp;&amp;”Rectangle.h”)<br>XYPoint.h<br>XYPoint.m(import “XYPoint.h”)<br>Rectangle.h<br>Rectangle.m(import “Rectangle.h”)</p>
<h6 id="@class">@class</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@class</span> <span class="title">XYPoint</span>;</span></div><div class="line"><span class="comment">//声明，如果下面出现XYPoint字样，说明要使用XYPoint类，相当于一个类名称标记</span></div><div class="line"><span class="comment">//也可以换成#import "XYPoint.h"，但这个样子需要导入和处理整个XYPoint文件，</span></div><div class="line"><span class="comment">//但如果需要调用XYPoint类的方法和参数，则需要导入完整的XXPoint.h文件</span></div><div class="line"><span class="comment">//需要放在@interface之前声明，不能放在之后</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Rectangle</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span> <span class="keyword">int</span> width,height;</div><div class="line"></div><div class="line">-(<span class="keyword">int</span>) area;</div><div class="line">-(<span class="keyword">int</span>) perimeter;</div><div class="line">-(XYPoint *) origin;</div><div class="line">-(<span class="keyword">void</span>) setWidth : (<span class="keyword">int</span>) w andHeight : (<span class="keyword">int</span>) h;</div><div class="line">-(<span class="keyword">void</span>) setOrigin : (XYPoint *) pt;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>

<h5 id="有关类的问题">有关类的问题</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ([com1 isMemberOfClass :[Complex class]] == <span class="literal">YES</span>) ;<span class="comment">//对象是不是该类的成员</span></div><div class="line"><span class="keyword">if</span> ([com1 isKindOfClass :[<span class="built_in">NSObject</span> class]] == <span class="literal">YES</span>) ;<span class="comment">//对象是不是该类或者该类子类的成员</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> ([com1 respendsToSelector :<span class="keyword">@selector</span> (setReal:andIma:)] == <span class="literal">YES</span>) ;<span class="comment">//对象能不能响应这个方法</span></div><div class="line"><span class="keyword">if</span> ([Complex instancesRespendToSelector :<span class="keyword">@selector</span> (setReal:)] == <span class="literal">YES</span>) ;<span class="comment">//该类能不能响应这个方法</span></div><div class="line"><span class="keyword">if</span> ([Complex isSubclassOfClass :[<span class="built_in">NSObject</span> class]] == <span class="literal">YES</span>) ;<span class="comment">//该类是不是后面类的子类</span></div></pre></td></tr></table></figure>

<h5 id="有关异常处理">有关异常处理</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">@try</span> </div><div class="line">{</div><div class="line"><span class="keyword">int</span> b = <span class="number">0</span>; </div><div class="line"><span class="keyword">switch</span> (b)  </div><div class="line">{</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>:</div><div class="line"><span class="keyword">@throw</span>(ex);<span class="comment">//b=0，则抛出异常；</span></div><div class="line"><span class="keyword">break</span>;</div><div class="line"><span class="keyword">default</span>:</div><div class="line"><span class="keyword">break</span>;</div><div class="line">}</div><div class="line">}</div><div class="line"><span class="keyword">@catch</span> (<span class="built_in">NSException</span> *exception)<span class="comment">//捕获抛出的异常 </span></div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"b==0 Exception!"</span>);</div><div class="line">}</div><div class="line"><span class="keyword">@finally</span> </div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"finally!"</span>);</div><div class="line">}</div><div class="line">[ex release];</div><div class="line">}</div><div class="line"><span class="comment">//运行的结果：</span></div><div class="line">b==<span class="number">0</span> Exception!</div><div class="line">finally!</div></pre></td></tr></table></figure>

<h5 id="重写对象的初始函数">重写对象的初始函数</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">-(Fraction *) initWith :(<span class="keyword">int</span>) n over: (<span class="keyword">int</span>) d</div><div class="line">{</div><div class="line"><span class="keyword">self</span> = [<span class="keyword">super</span> init];</div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="keyword">self</span>)</div><div class="line">{</div><div class="line">[<span class="keyword">self</span> setTo :n over :d];</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>) setTo :(<span class="keyword">int</span>) n1 over :(<span class="keyword">int</span>) d1</div><div class="line">{</div><div class="line"><span class="keyword">self</span><span class="variable">.Numeration</span> = n1;</div><div class="line"><span class="keyword">self</span><span class="variable">.Denomination</span> = d1;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//这里之所以使用id的返回值，是为了给后续对init的继承做准备，因为后续需要对init继承的时候，子类的类名和父类是不相同的，因此用id可以规避掉因为类名改变而不断变化返回值类型的麻烦</span></div><div class="line"></div><div class="line">-(<span class="keyword">id</span>) init </div><div class="line">{</div><div class="line"><span class="keyword">return</span> [<span class="keyword">self</span> initWith :<span class="number">0</span> over:<span class="number">0</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>执行语句</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Fraction *frac1 </span>=<span class="string"> [[Fraction alloc]initWith :4 over :6];</span></div></pre></td></tr></table></figure>

<h5 id="实例变量作用域">实例变量作用域</h5>
<p>@protected : 可被本类及子类访问，interface中定义的变量默认为这种类型</p>
<p>@private ： 仅能被本类的方法访问，implementation中定义的变量默认为是这种类型</p>
<p>@public ： 哪都可以用</p>
<p>@package ： 本类的映像的任何敌方都可以访问这个变量</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="at_rule">@synthesize<span class="preprocessor"> windown</span> =<span class="preprocessor"> _windown</span>;</span></div><div class="line"><span class="comment">//windown是类的属性，而_windown是具体的类属性的实例变量</span></div><div class="line"></div><div class="line"><span class="attr_selector">[windown makeKey]</span>;<span class="comment">//没法运行</span></div><div class="line"><span class="attr_selector">[_windown makeKey]</span>;<span class="comment">//可以运行</span></div><div class="line"><span class="attr_selector">[self.windown makeKey]</span>;<span class="comment">//可以运行</span></div></pre></td></tr></table></figure>

<h5 id="extern">extern</h5>
<ol>
<li>如果class A的变量 x 需要被好多个class使用：</li>
</ol>
<p>那么在classA中把x定义成：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">extern</span> <span class="keyword">int</span> x;</div><div class="line">x = <span class="number">100</span>;</div></pre></td></tr></table></figure>

<p>使用该变量的类，可以直接：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x;</div></pre></td></tr></table></figure>

<ol>
<li>如果class A中的变量虽然会被其他class用，但是用的不多：</li>
</ol>
<p>那么class A中把x定义成：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">int x </span>=<span class="string"> 100;</span></div></pre></td></tr></table></figure>

<p>使用该变量的类，可以引用为：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">extern</span> <span class="keyword">int</span> x;</div><div class="line">x = <span class="number">200</span>;</div></pre></td></tr></table></figure>

<h5 id="类函数和成员函数">类函数和成员函数</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//类函数：可以直接用类名调用,不能有成员变量</span></div><div class="line"><span class="comment">//前置加号（+）的方法为类方法，这类方法是可以直接用类名来调用的，它的作用主要是创建一个实例。有人把它称为创建实例的工厂方法。</span></div><div class="line"><span class="comment">//前置减号（-）的方法为实例方法，必须使用类的实例才可以调用的。</span></div><div class="line"></div><div class="line">Fraction *fraction = [[Fraction allocF]init];</div><div class="line"></div><div class="line">+(Fraction *) init;</div><div class="line">+(Fraction *) allocF;</div><div class="line"></div><div class="line"><span class="comment">//成员函数：必须通过对象调用</span></div><div class="line">Fraction *fraciton = [[Fraction allocF]init];</div><div class="line">fraction.<span class="keyword">count</span> = <span class="number">1</span>;</div><div class="line">[fraction add :<span class="number">3</span> over :<span class="number">4</span>];</div><div class="line"></div><div class="line">-(<span class="keyword">int</span>) <span class="keyword">count</span>;</div><div class="line">-(<span class="keyword">void</span>) add :(<span class="keyword">int</span>) n over(<span class="keyword">int</span>) m;</div><div class="line"></div><div class="line">-----------------------------------------</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">int</span> counter;</div><div class="line"></div><div class="line">+(Fraction *) allocF</div><div class="line">{</div><div class="line">extern <span class="keyword">int</span> counter;</div><div class="line">counter++;</div><div class="line"></div><div class="line"><span class="keyword">return</span> [Fraction alloc];</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">+(<span class="keyword">int</span>) <span class="keyword">count</span></div><div class="line">{</div><div class="line">extern <span class="keyword">int</span> counter;</div><div class="line"><span class="keyword">return</span> counter;</div><div class="line">}</div></pre></td></tr></table></figure>

<h5 id="枚举语法和typedef重命名">枚举语法和typedef重命名</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//声明enum</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span></span>{north=<span class="number">1</span>,south,east,west};<span class="comment">//1，2，3，4</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span></span>{north,south,east,west};<span class="comment">//0，1，2，3</span></div><div class="line"><span class="comment">//定义enum对象</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> direction1;</span></div><div class="line">direction1 = (enum Direction) 3;</div><div class="line">//免enum名，定义enum对象</div><div class="line">enum{north,south,east,west} direction2;</div><div class="line"><span class="comment">//typedef重命名enum</span></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> {</span>north,south,east,west} Direction;</div><div class="line">Direction direction3,direction4;</div><div class="line"></div><div class="line"><span class="comment">//typedef的作用主要是，为一些数据类型起一个“小名”，以方便程序的阅读，比如你写一个int定义x，大家不知道什么意思，但是你写Counter定义一个x，大家就知道，这个x其实是一个计数器</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> int Counter;</div><div class="line"><span class="comment">//这两条定义语句功能相同</span></div><div class="line">int x = <span class="number">1</span>;</div><div class="line">Counter x =<span class="number">1</span>;</div></pre></td></tr></table></figure>

<h5 id="分类与类的扩展">分类与类的扩展</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//Fraction.m</div><div class="line"><span class="comment">#import "Fraction.h"</span></div><div class="line"></div><div class="line">//分类MathOps，在Fraction.m里面一起实现</div><div class="line">//不必列出父类和实例变量，因为这些已经包括在Fraction.h</div><div class="line"></div><div class="line"><span class="comment">@interface Fraction(MathOps)</span></div><div class="line"></div><div class="line">-(Fraction <span class="keyword">*</span>) reduce :(Fraction <span class="keyword">*</span>) f; </div><div class="line">-(Fraction <span class="keyword">*</span>) multiple :(Fraction <span class="keyword">*</span>) f; </div><div class="line">-(Fraction <span class="keyword">*</span>) divide :(Fraction <span class="keyword">*</span>) f; </div><div class="line"></div><div class="line"><span class="comment">@end</span></div><div class="line"></div><div class="line"><span class="comment">@implementation Fraction(MathOps)</span></div><div class="line">-(Fraction <span class="keyword">*</span>) reduce :(Fraction <span class="keyword">*</span>) f</div><div class="line">{</div><div class="line">......</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">@end</span></div></pre></td></tr></table></figure>

<h5 id="类的扩展/未命名分类">类的扩展/未命名分类</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Fraction</span>()</span></div><div class="line"><span class="comment">//括号里面没有命名</span></div><div class="line"><span class="comment">//可以定义实例变量来扩展类，这个是相比于命名分类的一个优势，命名分类不能定义实例变量</span></div><div class="line"><span class="comment">//定义的扩展方法必须在主实现区域内实现，否则会编译报错</span></div><div class="line"><span class="keyword">@property</span> <span class="keyword">int</span> UniqueID;</div><div class="line">-(Fraction *) square :(Fraction *) f; </div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Fraction</span>(<span class="title">MathOps</span>)</span></div><div class="line"></div><div class="line">@syntheasize UniqueID;</div><div class="line">-(Fraction *) square :(Fraction *) f</div><div class="line">{</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>

<h5 id="协议与代理(协议实现的过程代理给继承他的子类)">协议与代理(协议实现的过程代理给继承他的子类)</h5>
<p>声明一组协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSObject</span><span class="variable">.h</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCopying</span></span></div><div class="line"></div><div class="line">-(<span class="keyword">id</span>)copyWithZone :(NSZone *)zone;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>

<p>实现一组协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">@interface</span> <span class="constant">AddressBook</span> <span class="symbol">:NSObject&lt;NSCopying</span>,<span class="constant">NSCoding</span>&gt;</div><div class="line"><span class="regexp">//</span>虽然不需要定义协议包含的接口，但必须在下面进行实现</div></pre></td></tr></table></figure>

<p>可选择协议与死规定协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//协议都是父类定义，子类实现</span></div><div class="line"><span class="annotation">@protocol</span> Drawing<span class="comment">//死规定协议，继承的子类必须实现</span></div><div class="line">-(<span class="keyword">void</span>) paint;</div><div class="line">-(<span class="keyword">void</span>) erase;</div><div class="line"><span class="annotation">@optional</span><span class="comment">//可选择协议，继承的子类可实现可不实现</span></div><div class="line">-(<span class="keyword">void</span>) outline;</div><div class="line"><span class="annotation">@end</span></div></pre></td></tr></table></figure>

<p>检察一个对象是否遵循Drawing协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>([currentObject conformsToProtocol : <span class="class"><span class="keyword">@protocol</span> (<span class="title">Drawing</span>)] == <span class="title">YES</span>)</span></div><div class="line"><span class="comment">//同类概念——检查一个类是否实现了一个方法</span></div><div class="line"><span class="keyword">if</span> ([Complex instancesRespendToSelector :<span class="keyword">@selector</span> (setReal:)] == <span class="literal">YES</span>) ;</div></pre></td></tr></table></figure>

<p>检察一个对象是否实现了Drawing 协议中的outline方法</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>([currentObject respondsToSelector : <span class="keyword">@selector</span> (outline) == <span class="literal">YES</span>])</div></pre></td></tr></table></figure>

<p>检察变量的协议一致性</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="input"><span class="prompt">id&lt;Drawing&gt;</span> currentObject;</span></div></pre></td></tr></table></figure>

<p>扩展现有的协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="at_rule">@<span class="keyword">protocol</span> <span class="function">Drawing3D</span>(Drawing)</span></div></pre></td></tr></table></figure>

<p>分类也可以实现一组协议</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Fraction</span> (<span class="title">stuff</span>)&lt;<span class="title">NSCopying</span>,<span class="title">NSCoding</span>&gt;</span></div></pre></td></tr></table></figure>

<h5 id="合成对象">合成对象</h5>
<p>square是Rectangle类的子类，是父子继承关系，但是Rectangle里面的很多方法并不适用于square，如果只单纯继承，会继承很多无用的方法，因此用下面的代码可以直接新定义一个类，这个类有很多新定义的属于自己的方法，这个方法和分类、子类都是扩展类定义的一种方法</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//@interface square:Rectangle 这是原来的方法</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">square</span> :<span class="title">NSObject</span></span></div><div class="line">{</div><div class="line">Rectangle *rect;</div><div class="line">}</div><div class="line"></div><div class="line">-(<span class="keyword">int</span>) size;</div><div class="line">-(<span class="keyword">int</span>) setsize: (<span class="keyword">int</span>) s;</div><div class="line">-(<span class="keyword">int</span>) area;</div><div class="line">-(<span class="keyword">int</span>) perimeter;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">square</span></span></div><div class="line">-(<span class="keyword">void</span>) area</div><div class="line">{</div><div class="line"><span class="keyword">return</span> [rect area];<span class="comment">//使用父类方法的方式</span></div><div class="line">}</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line">------------</div><div class="line"><span class="comment">//但是这种方法在初始化的时候需要为square和rectangle都预留一部分地方</span></div><div class="line"><span class="comment">//因此要重写init或者添加initWithSide之类的新方法来分配空间</span></div></pre></td></tr></table></figure>

<h4 id="预处理">预处理</h4>
<p>预处理语句可以放在任何位置，但是大多数程序员把定义放在头文件，以便在多个源文件中引用<br>定义的变量和方法一般都用大写</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">define</span>:名称置换（相当于word中的替换，所以不能加；这样分号也就替换进去了）+宏方法定义</span></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> TRUE 1</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> PI 3.1415926</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> TWO_PI 2.0*PI</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> AND &&</span></div><div class="line"><span class="keyword">if</span>(time AND place) ==<span class="keyword">if</span>(time && place)</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> OR ||</span></div><div class="line"><span class="keyword">if</span>(time OR place) ==<span class="keyword">if</span>(time || place)</div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> IS_LEAP_YEAR year%4 ==0&&year%100 !=0\</span></div><div class="line">||year%<span class="number">400</span> ==<span class="number">0</span>      \是为了提示编译器还有一个后续</div><div class="line"><span class="keyword">if</span>(IS_LEAP_YEAR).....</div><div class="line"></div><div class="line"><span class="comment">//这样就不局限与当前year变量，而是普遍适用于任意年</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> IS_LEAP_YEAR(y) y%4 ==0&&y%100 !=0||y%400 ==0    </span></div><div class="line"><span class="keyword">if</span>(IS_LEAP_YEAR(y)).....</div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> SQUARE(X) ((X)*(X))</span></div><div class="line"><span class="comment">//如果不加括号，会导致v+1*v+1，加了括号就是（V+1）*(V+1)</span></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MakeFraction(x,y) ([[Fraction alloc]initWith: x over :y])</span></div><div class="line">myFract = MakeFraction(<span class="number">1</span>,<span class="number">3</span>);</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MAX(a,b) ((a)&gt;(b)?(a):(b))</span></div><div class="line"><span class="comment">//用括号括起来，是为了避免运算错误</span></div><div class="line"><span class="comment">//1.MAX(x+1,y)*100  2.MAX(x&y,z)</span></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> IS_LOWER_CASE(x) (((x)&gt;('a'))&&(x)&lt;('z'))<span class="comment">//返回真值</span></span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> TO_UPPER(x) (IS_LOWER_CASE(x)? ((x)-'a'+'A'):(x))<span class="comment">//返回字母</span></span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">define</span> IPAD 1</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef IPAD</span></div><div class="line"><span class="preprocessor">#   <span class="keyword">define</span> IMAGE @"ipad.jpg"<span class="comment">//别忘了空格</span></span></div><div class="line"><span class="preprocessor">#<span class="keyword">elif</span> IPHONE<span class="comment">//#else</span></span></div><div class="line"><span class="preprocessor">#   <span class="keyword">define</span> IMAGE @"iphone.jpg"<span class="comment">//别忘了空格</span></span></div><div class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></div><div class="line"></div><div class="line">编译过程中，可以通过 -D IPAD 来声明IPAD,从而是所有出现<span class="preprocessor">#ifdef IPAD的地方都通过</span></div><div class="line">Xcode在Buildsetting中设定 IPAD DEBUG</div><div class="line">gcc -framework-Foundation -D IPAD main.m -</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#if defined(DEBUG)</span></div><div class="line">NSLog(@<span class="string">"usename = %s,userid = %i"</span>,Username,UserId);</div><div class="line"><span class="preprocessor">#elif......</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="comment">//功能等价于</span></div><div class="line"><span class="preprocessor">#ifdef DEBUG</span></div><div class="line">NSLog(@<span class="string">"usename = %s,userid = %i"</span>,Username,UserId);</div><div class="line"><span class="preprocessor">#elif......</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">//要保证DEBUG不仅仅被定义而且值非零才能继续进行下一步</span></div><div class="line"><span class="preprocessor">#if defined(DEBUG)&&DEBUG</span></div><div class="line"><span class="preprocessor">#define.....</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//消除定义</span></div><div class="line"><span class="preprocessor">#<span class="keyword">undef</span> IPAD</span></div><div class="line">之后的<span class="preprocessor">#ifdef IPAD和#<span class="keyword">if</span> defined(IPAD)两句话的值都是false</span></div></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/10/31/《objective-c程序设计》笔记——语法篇/" data-id="uvs9cf8uda3suwax" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C语言/">C语言</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/objective-c/">objective-c</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《objective-c程序设计》笔记——C语言相关篇" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/31/《objective-c程序设计》笔记——C语言相关篇/" class="article-date">
  <time datetime="2014-10-30T17:21:26.000Z" itemprop="datePublished">10月 31 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程学习/">编程学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/31/《objective-c程序设计》笔记——C语言相关篇/">《objective-c程序设计》笔记——C语言相关篇</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="数组的使用">数组的使用</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> letters[<span class="number">5</span>] = {<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>};</div><div class="line"><span class="comment">//如果将[]中的数字隐去，则按照{}中元素的具体数目进行数组分配</span></div><div class="line"><span class="keyword">char</span> letters[] = {<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>};</div><div class="line"><span class="keyword">int</span> numbers[<span class="number">300</span>] = {[<span class="number">9</span>]=<span class="number">1</span>,[<span class="number">3</span>]=<span class="number">7</span>,[<span class="number">1</span>]=<span class="number">29</span>};<span class="comment">//任意指定，顺序可以打乱</span></div><div class="line"><span class="comment">//如果这里[]中的数字隐去，则默认按照最大的下标来分配数组元素数目，即numbers只有10个元素</span></div><div class="line"><span class="keyword">int</span> numbers[] = {[<span class="number">9</span>]=<span class="number">1</span>,[<span class="number">3</span>]=<span class="number">7</span>,[<span class="number">1</span>]=<span class="number">29</span>};<span class="comment">//任意指定，顺序可以打乱</span></div><div class="line"></div><div class="line"><span class="keyword">char</span> word[] = {<span class="string">'H'</span>,<span class="string">'e'</span>,<span class="string">'l'</span>,<span class="string">'l'</span>,<span class="string">'o'</span>,<span class="string">'\0'</span>};</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,word);</div><div class="line"><span class="comment">//输出的是“Hello”，因为NSLog会持续显示字符，直到遇到空字符</span></div></pre></td></tr></table></figure>

<p>将函数声明写在文件的开头是一个好习惯，即使调用的函数在前面已经定义，也要尽量把该函数在文件头进行声明一下，这样才能保证编译的正确性。</p>
<h4 id="块（Block）">块（Block）</h4>
<p>块定义在函数或者方法的内部，相当于一个简单的内嵌函数，它可以访问块之外函数之内的任意变量</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">void</span>)(^printmessage)(<span class="keyword">void</span>)=</div><div class="line">^(<span class="keyword">void</span>)<span class="comment">//括号里面的是传入的参数类型</span></div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"Hello"</span>);</div><div class="line">};<span class="comment">//不要忘记这个分号</span></div><div class="line">...</div><div class="line">...</div><div class="line">printmessage();<span class="comment">//调用方式不变</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#import<span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</div><div class="line">{</div><div class="line"><span class="keyword">@autoreleasepool</span></div><div class="line">{</div><div class="line"></div><div class="line"><span class="keyword">int</span> foo = <span class="number">10</span>;<span class="comment">//输出结果为10，说明块方法在定义的时候就已经捆绑了变量的值</span></div><div class="line">__block <span class="keyword">int</span> foo = <span class="number">10</span>;<span class="comment">//输出结果为15，说明块方法在运行的时候才捆绑变量的值</span></div><div class="line"><span class="keyword">void</span>(^printFoo)(<span class="keyword">void</span>)=</div><div class="line">^(<span class="keyword">void</span>)</div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"foo = %i"</span>,foo);</div><div class="line">};</div><div class="line"></div><div class="line">foo = <span class="number">15</span>;</div><div class="line">printFoo();</div><div class="line">}</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#import<span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</div><div class="line">{</div><div class="line"><span class="keyword">@autoreleasepool</span></div><div class="line">{</div><div class="line"></div><div class="line">__block <span class="keyword">int</span> foo = <span class="number">10</span>;<span class="comment">//只有定义成块变量，foo才可以在块中更改值</span></div><div class="line"></div><div class="line"><span class="keyword">void</span>(^printFoo)(<span class="keyword">void</span>)=</div><div class="line">^(<span class="keyword">void</span>)</div><div class="line">{</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"foo = %i"</span>,foo);</div><div class="line">foo = <span class="number">20</span>;</div><div class="line">};</div><div class="line"></div><div class="line">foo = <span class="number">15</span>;</div><div class="line">printFoo();<span class="comment">//输出15</span></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"foo = %i"</span>,foo);<span class="comment">//输出20</span></div><div class="line">}</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="C语言的语法补充">C语言的语法补充</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  main.c</span></div><div class="line"><span class="comment">//  helloword</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  Created by 修宇亮 on 14-7-16.</span></div><div class="line"><span class="comment">//  Copyright (c) 2014年 修宇亮. All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">struct</span> student{</div><div class="line"></div><div class="line"><span class="keyword">int</span> age;</div><div class="line"><span class="keyword">int</span> grade;</div><div class="line"><span class="keyword">char</span> *name;</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> SIZE_OF_ARRAY(a) sizeof(a)/sizeof(a[0])</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> HELLO(name) void name##girl(){ \</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"hello girl"</span>); \</div><div class="line">}<span class="comment">// \起到续行的作用</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MYFUNC(name) void name##INIT()</span></div><div class="line"></div><div class="line"></div><div class="line">MYFUNC(xyl);</div><div class="line">HELLO(xyl);</div><div class="line"></div><div class="line"><span class="keyword">void</span> xylINIT(){<span class="built_in">printf</span>(<span class="string">"xyl is so cool!"</span>);}</div></pre></td></tr></table></figure>


<h4 id="一个验证##的实例">一个验证##的实例</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#import&lt;Foundation/Foundation.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> INITNAME() {\</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"Hello xyl1\n"</span>);\</div><div class="line">}</div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> HELLONAME(name) name##hello()<span class="comment">//这里不要写上void，会无法连接到xylhello()</span></span></div><div class="line"></div><div class="line"><span class="keyword">void</span> xylhello(){</div><div class="line"><span class="built_in">printf</span>(<span class="string">"Hello xyl2\n"</span>);</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</div><div class="line">{</div><div class="line">INITNAME();</div><div class="line">HELLONAME(xyl);</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">typedef <span class="keyword">int</span>  long_byte_four;<span class="comment">//给数据类型重新命名类型名</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> a = <span class="number">12</span>;</div><div class="line"><span class="keyword">int</span> b = <span class="number">34</span>;</div><div class="line"><span class="keyword">int</span> *p1 = &a;</div><div class="line"><span class="keyword">int</span> *p2 = &b;</div><div class="line"></div><div class="line"><span class="keyword">void</span> swap01(<span class="keyword">int</span>,<span class="keyword">int</span>);</div><div class="line"><span class="keyword">void</span> swap02(<span class="keyword">int</span> *,<span class="keyword">int</span> *);</div><div class="line"><span class="keyword">void</span> swap03(<span class="keyword">int</span> **,<span class="keyword">int</span> **);</div><div class="line"><span class="keyword">void</span> swap04(<span class="keyword">int</span> *,<span class="keyword">int</span> *);</div><div class="line"><span class="keyword">void</span> testmalloc();</div><div class="line"><span class="keyword">void</span> testcalloc();</div><div class="line"><span class="keyword">void</span> testrealloc(<span class="keyword">int</span> *);</div><div class="line"><span class="keyword">void</span> testvoid();</div><div class="line"><span class="keyword">void</span> test_type_rename();</div><div class="line"><span class="keyword">void</span> test_byte();</div><div class="line"><span class="keyword">void</span> test_pointer();</div><div class="line"><span class="keyword">void</span> test_pointer_func();</div><div class="line"><span class="keyword">void</span> test_pointer_string();</div><div class="line"><span class="keyword">void</span> test_struct();</div><div class="line"><span class="keyword">void</span> common_swap();</div><div class="line"><span class="keyword">void</span> hong();</div><div class="line"><span class="keyword">void</span> swap(<span class="keyword">void</span> *,<span class="keyword">void</span> *,<span class="keyword">int</span> );</div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, const <span class="keyword">char</span> * argv[])</div><div class="line">{</div><div class="line"></div><div class="line">test_byte();<span class="comment">//测试每一种数据类型的字节数</span></div><div class="line">test_type_rename();<span class="comment">//测试数据类型重新命名类型名</span></div><div class="line">test_pointer();<span class="comment">//测试指针的用途</span></div><div class="line">test_pointer_func();<span class="comment">//指针函数和函数指针</span></div><div class="line">test_pointer_string();<span class="comment">//字符串数组和指针字符串</span></div><div class="line">test_struct();</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//四种交换算法（原数，地址，指针）</span></div><div class="line">swap01(a, b);</div><div class="line">swap02(&a, &b);</div><div class="line">swap03(&p1, &p2);</div><div class="line">swap04(p1, p2);</div><div class="line"></div><div class="line">testmalloc();<span class="comment">//malloc分配单块内存空间函数</span></div><div class="line">testcalloc();<span class="comment">///calloc连续分配内存空间函数</span></div><div class="line">testrealloc(p2);<span class="comment">//realloc重新定义内存分配空间的函数</span></div><div class="line"></div><div class="line">common_swap();</div><div class="line">hong();</div><div class="line"></div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//可以被普遍使用的泛型swap</span></div><div class="line"></div><div class="line"><span class="keyword">void</span> swap(<span class="keyword">void</span> *p1,<span class="keyword">void</span> *p2,<span class="keyword">int</span> <span class="keyword">size</span>){</div><div class="line"></div><div class="line"><span class="keyword">char</span> *charat1 = (<span class="keyword">char</span> *)p1;</div><div class="line"><span class="keyword">char</span> *charat2 = (<span class="keyword">char</span> *)p2;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="keyword">size</span>;i++){</div><div class="line"></div><div class="line"><span class="keyword">int</span> temp;</div><div class="line">temp = *(charat1+i);</div><div class="line">*(charat1+i) = *(charat2+i);</div><div class="line">*(charat2+i) = temp;</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//void型变量的通用特性</span></div><div class="line"><span class="keyword">void</span> testvoid(){</div><div class="line"></div><div class="line"><span class="keyword">int</span> *t1 = <span class="keyword">NULL</span>;</div><div class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</div><div class="line">t1 = &a;</div><div class="line"><span class="keyword">void</span> *v1 = <span class="keyword">NULL</span>;</div><div class="line">v1 = t1;</div><div class="line"></div><div class="line"><span class="keyword">long</span> *t2 = <span class="keyword">NULL</span>;</div><div class="line"><span class="keyword">long</span> b = <span class="number">78687698679867</span>;</div><div class="line">t2 = &b;</div><div class="line"><span class="keyword">void</span> *v2 = <span class="keyword">NULL</span>;</div><div class="line">v2 = t2;</div><div class="line"></div><div class="line">printf(<span class="string">"v1 = %d\n"</span>,*(<span class="keyword">int</span> *)v1);</div><div class="line">printf(<span class="string">"v2 = %ld\n"</span>,*(<span class="keyword">long</span> *)v2);</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="malloc,_calloc,realloc之间的区别">malloc, calloc,realloc之间的区别</h4>
<p>void<em> realloc(void</em> ptr, unsigned newsize);<br>void<em> malloc(unsigned size);<br>void</em> calloc(size_t nelem, size_t elsize);<br>都在stdlib.h函数库内</p>
<p>它们的返回值都是请求系统分配的地址,如果请求失败就返回NULL</p>
<p>malloc用于申请一段新的地址,参数size为需要内存空间的长度,如:<br>char<em> p;<br>p=(char</em>)malloc(20);</p>
<p>calloc与malloc相似,参数elsize 为申请地址的单位元素长度,nelem为元素个数,如:<br>char<em> p;<br>p=(char</em>)calloc(20, sizeof(char));<br>这个例子与上一个效果相同</p>
<p>realloc是给一个已经分配了地址的指针重新分配空间,参数ptr为原有的空间地址,newsize是重新申请的地址长度 </p>
<p>如:<br>char<em> p;<br>p=(char</em>)malloc(sizeof(char)<em>20);<br>p=(char</em>)realloc(p,sizeof(char)*40);<br>注意，这里的空间长度都是以字节为单位。</p>
<p>C语言的标准内存分配函数：malloc，calloc，realloc等。<br>malloc与calloc的区别为1块与n块的区别：<br>malloc调用形式为(类型<em>)malloc(size)：在内存的动态存储区中分配一块长度为“size”字节的连续区域，返回该区域的首地址。<br>calloc调用形式为(类型</em>)calloc(n，size)：在内存的动态存储区中分配n块长度为“size”字节的连续区域， 每一位都初始化为零，返回首地址。<br>realloc调用形式为(类型<em>)realloc(</em>ptr，size)：将ptr内存大小增大到size。</p>
<p>free的调用形式为free(void*ptr)：释放ptr所指向的一块内存空间。<br>C++中为new/delete函数。 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//malloc分配单块内存空间函数</span></div><div class="line"><span class="keyword">void</span> testmalloc(){</div><div class="line"></div><div class="line"><span class="comment">//对p的单帧并没有清零，数值为随机数</span></div><div class="line"><span class="keyword">int</span> *p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</div><div class="line"><span class="keyword">if</span>(p != NULL){</div><div class="line">*p = <span class="number">1234</span>;</div><div class="line"></div><div class="line">}<span class="keyword">else</span>{</div><div class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"*p = %d\n"</span>,*p);</div><div class="line"><span class="built_in">free</span>(p);</div><div class="line">p = NULL;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//calloc连续分配内存空间函数</span></div><div class="line"><span class="keyword">void</span> testcalloc(){</div><div class="line"></div><div class="line"><span class="comment">//对p的每一帧都实现清零</span></div><div class="line"><span class="keyword">int</span> *p = <span class="built_in">calloc</span>(<span class="number">5</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</div><div class="line"><span class="keyword">if</span>(p !=NULL){</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++){</div><div class="line">*(p+i) = i+<span class="number">2</span>;</div><div class="line"><span class="built_in">printf</span>(<span class="string">"*p = %d\n"</span>,*(p+i));</div><div class="line">}</div><div class="line">}<span class="keyword">else</span>{</div><div class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</div><div class="line">}</div><div class="line"></div><div class="line">testrealloc(p);</div><div class="line">p = NULL;</div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//realloc重新定义内存分配空间的函数</span></div><div class="line"><span class="keyword">void</span> testrealloc( <span class="keyword">int</span> *p2){</div><div class="line"></div><div class="line"><span class="keyword">int</span> *re_p = realloc(p2, <span class="number">10</span>);</div><div class="line"><span class="keyword">if</span>(re_p !=NULL){</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">5</span>;i&lt;<span class="number">10</span>;i++){</div><div class="line">*(re_p+i) = i+<span class="number">2</span>;</div><div class="line">}</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++){</div><div class="line"><span class="built_in">printf</span>(<span class="string">"*re_p = %d\n"</span>,*(re_p+i));</div><div class="line">}</div><div class="line">}<span class="keyword">else</span>{</div><div class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</div><div class="line">}</div><div class="line"><span class="built_in">free</span>(re_p);</div><div class="line">re_p = NULL;</div><div class="line">p2 = NULL;</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> test_type_rename(){</div><div class="line">long_byte_four a1 = <span class="number">123</span>;</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a1 == %d\n"</span>,a1);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> add(<span class="keyword">int</span> a,<span class="keyword">int</span> b){</div><div class="line"><span class="keyword">return</span> a+b;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> multiple(<span class="keyword">int</span> (*func)(<span class="keyword">int</span>,<span class="keyword">int</span>),<span class="keyword">int</span> n1,<span class="keyword">int</span> n2){</div><div class="line"><span class="keyword">return</span> func(n1,n2)*n1;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//测试通用性交换算法</span></div><div class="line"><span class="keyword">void</span> common_swap(){</div><div class="line"></div><div class="line"><span class="keyword">int</span> a = <span class="number">123</span>;</div><div class="line"><span class="keyword">int</span> b = <span class="number">456</span>;</div><div class="line"></div><div class="line"><span class="keyword">char</span> ch1[] = <span class="string">"xiuyuliang"</span>;</div><div class="line"><span class="keyword">char</span> ch2[] = <span class="string">"wangruihah"</span>;</div><div class="line"></div><div class="line"></div><div class="line">swap(&a,&b,<span class="keyword">sizeof</span>(a));</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line"></div><div class="line">swap(ch1, ch2, <span class="keyword">sizeof</span>(ch1));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch1 = %s\n"</span>,ch1);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch2 = %s\n"</span>,ch2);</div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> swap01(<span class="keyword">int</span> t1,<span class="keyword">int</span> t2){</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"最原始的纯数据交换(a,b)\n"</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line"><span class="keyword">int</span> temp;</div><div class="line">temp = t1;</div><div class="line">t1 = t2;</div><div class="line">t2 = temp;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">void</span> swap02(<span class="keyword">int</span> *t1,<span class="keyword">int</span> *t2){</div><div class="line"></div><div class="line"><span class="comment">//swap02(&a, &b);</span></div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"仅仅交换副本指针的地址(&t1,&t2)\n"</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line"><span class="keyword">int</span> *temp = NULL;</div><div class="line">temp = t1;</div><div class="line">t1 = t2;</div><div class="line">t2 = temp;</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"t1 = %d\n"</span>,*t1);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"t2 = %d\n"</span>,*t2);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> swap03(<span class="keyword">int</span> **t1,<span class="keyword">int</span> **t2){</div><div class="line"></div><div class="line"><span class="comment">// swap03(&p1, &p2);</span></div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"真正交换了原始指针(p1,p2)\n"</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line"><span class="keyword">int</span> *temp = NULL;</div><div class="line">temp = *t1;</div><div class="line">*t1 = *t2;</div><div class="line">*t2 = temp;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"t1 = %d\n"</span>,**t1);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"t2 = %d\n"</span>,**t2);</div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> swap04(<span class="keyword">int</span> *t1,<span class="keyword">int</span> *t2){</div><div class="line"></div><div class="line"><span class="comment">//swap04(p1, p2);</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"真正交换了原值(a,b)\n"</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line"><span class="keyword">int</span> temp ;</div><div class="line">temp = *t1;</div><div class="line">*t1 = *t2;</div><div class="line">*t2 = temp;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %d\n"</span>,b);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">void</span> test_byte(){</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"char_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"int_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"long_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">long</span>));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"short_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">short</span>));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"double_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">double</span>));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"long double_byte === %ld\n"</span> ,<span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>));</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//测试指针的用途</span></div><div class="line"><span class="keyword">void</span> test_pointer(){</div><div class="line"></div><div class="line"><span class="keyword">int</span> a = <span class="number">123</span>;</div><div class="line"><span class="keyword">int</span> *b = &a;</div><div class="line"><span class="keyword">int</span> **c = &b;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"a = %d\n"</span>,a);<span class="comment">//a的值</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"&a = %p\n"</span>,&a);<span class="comment">//a的地址</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"b = %p\n"</span>,b);<span class="comment">//b存的a的地址</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"&b = %p\n"</span>,&b);<span class="comment">//b的地址</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"*b = %d\n"</span>,*b);<span class="comment">//b存的地址解码为a的值</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"c = %p\n"</span>,c);<span class="comment">//c存的b的地址</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"*c = %p\n"</span>,*c);<span class="comment">//c存的b的地址解码为b的值，即a的地址</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"**c = %d\n"</span>,**c);<span class="comment">//c解码两次，第一次解码为b的值，即a的地址，第二次解码为a的值，为123</span></div><div class="line"><span class="built_in">printf</span>(<span class="string">"&c = %p\n"</span>,&c);<span class="comment">//c的地址</span></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//指针函数和函数指针</span></div><div class="line"><span class="comment">//指针函数和函数指针的主要用途是作为参数传入函数或者方法</span></div><div class="line"><span class="keyword">void</span> test_pointer_func(){</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> add(<span class="keyword">int</span> ,<span class="keyword">int</span>);</div><div class="line"><span class="keyword">int</span> (*pfunc)(<span class="keyword">int</span> a,<span class="keyword">int</span> b);</div><div class="line">pfunc = add;</div><div class="line"><span class="keyword">int</span> result = pfunc(<span class="number">13</span>,<span class="number">12</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"a+b ==  %d\n"</span>,result);</div><div class="line"></div><div class="line"><span class="keyword">int</span> multiple(<span class="keyword">int</span> (*func)(<span class="keyword">int</span>,<span class="keyword">int</span>),<span class="keyword">int</span> n1,<span class="keyword">int</span> n2);</div><div class="line"><span class="keyword">int</span> result2 = multiple(add, <span class="number">5</span>, <span class="number">3</span>);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"(a+b)*a = %d\n"</span>, result2);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//字符串数组和指针字符串</span></div><div class="line"><span class="keyword">void</span> test_pointer_string(){</div><div class="line"></div><div class="line"><span class="keyword">char</span> ch1[] = <span class="string">"success"</span>;</div><div class="line"><span class="keyword">char</span> *ch2 = <span class="string">"success2"</span>;</div><div class="line"><span class="keyword">char</span> *ch3 = <span class="string">"success3"</span>;</div><div class="line"><span class="keyword">char</span> *ch2_copy = <span class="string">"success2"</span>;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch1 = %s\n"</span>,ch1);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch1的地址 = %p\n"</span>,ch1);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch2 = %s\n"</span>,ch2);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch2的地址 = %p\n"</span>,ch2);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch2_copy的地址 = %p\n"</span>,ch2_copy);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch3 = %s\n"</span>,ch3);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"ch3的地址 = %p\n"</span>,ch3);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//测试结构体输出</span></div><div class="line"></div><div class="line"><span class="keyword">void</span> test_struct(){</div><div class="line"><span class="keyword">struct</span> student *s1 = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> student));</div><div class="line"><span class="keyword">if</span>(s1 !=NULL){</div><div class="line"></div><div class="line">s1-&gt;age = <span class="number">23</span>;</div><div class="line">s1-&gt;grade = <span class="number">8</span>;</div><div class="line">s1-&gt;name = <span class="string">"xyl"</span>;</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"s1.age = %d\n"</span>,s1-&gt;age);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"s1.grade = %d\n"</span>,s1-&gt;grade);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"s1.name = %s\n"</span>,s1-&gt;name);</div><div class="line"></div><div class="line">}<span class="keyword">else</span>{</div><div class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="built_in">free</span>(s1);</div><div class="line">s1 = NULL;</div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//检测宏定义的输出</span></div><div class="line"><span class="keyword">void</span> hong(){</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> a[] = {<span class="number">1</span>,<span class="number">23</span>,<span class="number">45</span>,<span class="number">9</span>,<span class="number">23</span>,<span class="number">89</span>};</div><div class="line"></div><div class="line"><span class="built_in">printf</span>(<span class="string">"array_size = %ld\n"</span>,SIZE_OF_ARRAY(a));</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,__LINE__);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>,__FILE__);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>,__TIME__);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>,__DATE__);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,__STDC__);</div><div class="line">xylINIT();</div><div class="line">xylgirl();</div><div class="line"></div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="小细节语法点">小细节语法点</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x =<span class="number">123</span>;</div><div class="line"><span class="keyword">int</span> a[] = {[<span class="number">7</span>]=<span class="number">1</span>,[<span class="number">0</span>]=x+<span class="number">1</span>,[<span class="number">4</span>]=<span class="number">5</span>};<span class="comment">//针对性的设置数组中的特定数值，其余为0</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> ch1[<span class="number">80</span>] = <span class="string">"nihao woshi nidie"</span>;</div><div class="line"><span class="keyword">char</span> *ch2 = <span class="string">"nihao woshi nidei"</span>;</div><div class="line"><span class="comment">//这两个都可以运行顺利，但是意义不同，一个是表示一段内存区域的数值分配，另一个是引用一个指针指向一个字符数组</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//空语句的功能</span></div><div class="line"><span class="comment">//功能是将键盘输入的字符存储到test指针指向的内存空间</span></div><div class="line"><span class="keyword">while</span>((*test = getchar()) != <span class="string">''</span>)</div><div class="line">;<span class="comment">//空语句</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//goto语句，实际上是一种执行跳转语句，直接跳转到goto后面标签标注的语句</div><div class="line">//这是一种很不好的编程习惯，不利于他人对程序的理解</div><div class="line">goto out_of_data;</div><div class="line"><span class="keyword">...</span></div><div class="line"><span class="keyword">...</span></div><div class="line"><span class="keyword">...</span></div><div class="line">out_of_data: NSLog(@<span class="string">"out of data"</span>);</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="type">int</span> arraySum(<span class="type">int</span> <span class="type">array</span>[], <span class="type">int</span> n)</div><div class="line"><span class="type">int</span> *arrayEnd = <span class="type">array</span>+n;</div><div class="line">//这里面虽然写的是arrgy[]，但其实传入之后的<span class="type">array</span>其实是一个地址，而且是数组的首地址</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//一个例子说明这个问题</span></div><div class="line"><span class="preprocessor">#import<span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> arraySum(<span class="keyword">int</span> array[], <span class="keyword">int</span> n)</div><div class="line">{</div><div class="line"><span class="keyword">int</span> *pr,*arrayEnd;</div><div class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">arrayEnd = array + n;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(pr=array;pr&lt;arrayEnd;pr++)</div><div class="line">{</div><div class="line">sum += *pr;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">return</span> sum;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</div><div class="line">{</div><div class="line"><span class="keyword">@autoreleasepool</span></div><div class="line">{</div><div class="line"><span class="keyword">int</span> value[<span class="number">10</span>] = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>};</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"The sum is %i"</span>,arraySum(value,<span class="number">10</span>));</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void NSLog(NSString *format,<span class="keyword">...</span>);//<span class="keyword">...</span>用途是声明参数有不定数目</div></pre></td></tr></table></figure>

<h4 id="块（BLOCK）">块（BLOCK）</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">void</span> (^calculateTriangleNumber)(<span class="keyword">int</span>) =</div><div class="line">^(<span class="keyword">int</span> n)</div><div class="line">{	</div><div class="line"><span class="keyword">int</span> triangleNumber = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">{</div><div class="line">triangleNumber += i;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"The triangleNumber of %i is %i"</span>,n,triangleNumber);</div><div class="line">};<span class="comment">//分号一定不要忘记，因为这是一个句子</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc,<span class="keyword">char</span> *argv[])</div><div class="line">{</div><div class="line"><span class="keyword">@autoreleasepool</span></div><div class="line">{</div><div class="line">calculateTriangleNumber(<span class="number">10</span>);</div><div class="line">calculateTriangleNumber(<span class="number">20</span>);</div><div class="line">calculateTriangleNumber(<span class="number">50</span>);</div><div class="line">}</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="结构体的相互借用">结构体的相互借用</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc,<span class="keyword">char</span> *argv[])</div><div class="line">{</div><div class="line"></div><div class="line"><span class="keyword">@autoreleasepool</span>{</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="built_in">CGPoint</span></div><div class="line">{</div><div class="line"><span class="built_in">CGFloat</span> x;</div><div class="line"><span class="built_in">CGFloat</span> y;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">CGPoint</span> <span class="built_in">CGPoint</span>;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="built_in">CGSize</span>	</div><div class="line">{</div><div class="line"><span class="built_in">CGFloat</span> width;</div><div class="line"><span class="built_in">CGFloat</span> height;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">CGSize</span> <span class="built_in">CGSize</span>;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> <span class="built_in">CGRect</span></div><div class="line">{</div><div class="line"><span class="built_in">CGPoint</span> origin;</div><div class="line"><span class="built_in">CGSize</span>  size;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">CGRect</span> <span class="built_in">CGRect</span>;</div><div class="line"><span class="built_in">CGRect</span>  rect1 ;</div><div class="line"><span class="built_in">CGPoint</span> startp;</div><div class="line"><span class="built_in">CGSize</span>  range;</div><div class="line"></div><div class="line">startp<span class="variable">.x</span> = <span class="number">100.0</span>;</div><div class="line">startp<span class="variable">.y</span> = <span class="number">200.0</span>;</div><div class="line"></div><div class="line">range<span class="variable">.width</span> = <span class="number">20.0</span>;</div><div class="line">range<span class="variable">.height</span> = <span class="number">40.0</span>;</div><div class="line"></div><div class="line">rect1<span class="variable">.origin</span> = startp;</div><div class="line">rect1<span class="variable">.size</span> = range;</div><div class="line"></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"The rectangle :\n"</span>);</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"width: %f"</span>,rect1<span class="variable">.size</span><span class="variable">.width</span>);</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"height: %f"</span>,rect1<span class="variable">.size</span><span class="variable">.height</span>);</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"origin: (%f,%f)"</span>,rect1<span class="variable">.origin</span><span class="variable">.x</span>,rect1<span class="variable">.origin</span><span class="variable">.y</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="结构体声明变量的方法">结构体声明变量的方法</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//在结构体中声明多个变量</span></div><div class="line"><span class="keyword">struct</span> date</div><div class="line">{</div><div class="line"><span class="keyword">int</span> year;</div><div class="line"><span class="keyword">int</span> month;</div><div class="line"><span class="keyword">int</span> day;</div><div class="line">}today,tomorrow;</div><div class="line"></div><div class="line"><span class="comment">//直接在结构体中声明定义变量</span></div><div class="line"><span class="keyword">struct</span> date</div><div class="line">{</div><div class="line"><span class="keyword">int</span> year;</div><div class="line"><span class="keyword">int</span> month;</div><div class="line"><span class="keyword">int</span> day;</div><div class="line">}today = {<span class="number">2013</span>,<span class="number">2</span>,<span class="number">4</span>};</div><div class="line"></div><div class="line"><span class="keyword">struct</span> today = {<span class="number">2014</span>,<span class="number">1</span>,<span class="number">21</span>};</div><div class="line"><span class="comment">//直接的初始化方式</span></div><div class="line"><span class="keyword">struct</span> today = {.month = <span class="number">2</span>,.year = <span class="number">1</span>,.day = <span class="number">21</span>};</div><div class="line"><span class="comment">//可以打乱方式用.member = value赋值</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//定义100天</span></div><div class="line"><span class="keyword">struct</span> </div><div class="line">{</div><div class="line"><span class="keyword">int</span> year;</div><div class="line"><span class="keyword">int</span> month;</div><div class="line"><span class="keyword">int</span> day;</div><div class="line">}date[<span class="number">100</span>];</div></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/10/31/《objective-c程序设计》笔记——C语言相关篇/" data-id="76lp3v90lczbkqop" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C语言/">C语言</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/objective-c/">objective-c</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/编程学习/">编程学习</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C语言/">C语言</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objective-c/">objective-c</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C语言/" style="font-size: NaNpx;">C语言</a><a href="/tags/objective-c/" style="font-size: NaNpx;">objective-c</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/10/31/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2014/10/31/《objective-c程序设计》笔记——语法篇/">《objective-c程序设计》笔记——C语言相关篇</a>
          </li>
        
          <li>
            <a href="/2014/10/31/《objective-c程序设计》笔记——C语言相关篇/">《objective-c程序设计》笔记——C语言相关篇</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 修宇亮<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">存档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/todolist" class="mobile-nav-link">ToDo</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>